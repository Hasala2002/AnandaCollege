const blogData = [
    {
        id: 0,
        title: "BITS, the intra-school ICT competition is about to start",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 1,
        title: "This is a random title",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 2,
        title: "What am i doing?",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 3,
        title: "This is getting boring",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 4,
        title: "How much more do I have to write?",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 5,
        title: "Please end this suffering",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 6,
        title: "I've given up at this point",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 7,
        title: "Maybe I should use a random title generator",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 8,
        title: "	3 Simple Tips For Using School To Get Ahead Your Competition",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 9,
        title: "How I Improved My School In One Day",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
    {
        id: 10,
        title: "School Is Crucial To Your Business. Learn Why!",
        description: "The First-Ever Task-Based Intra-School ICT competition, organized by the Ananda College ICT Society to provide a platform for our school's students to polish and improve their ICT knowledge in many fields of ICT",
        photo: "./assets/img/bits.png",
        date: "2021.07.20",
        article: "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam quae aliquam, dignissimos veritatis quos animi laboriosam repellendus reiciendis itaque blanditiis expedita velit corporis necessitatibus ipsa, earum vero placeat ducimus excepturi. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorum necessitatibus nostrum debitis accusantium ad assumenda doloribus, harum excepturi ab illum perspiciatis iste eveniet rem molestias? Iste nostrum culpa aspernatur alias?"
    },
]

window.onscroll = function() {
    if(window.pageYOffset>=100){
      $('#navigation').addClass('nav_attach')
      $('#modal').hide()
    }else{
      $('#navigation').removeClass('nav_attach')
    }
  };

const createNewBlogCard = (title,description,photo,date,index) => {
    let blogCard = document.createElement('div')
    let blogContent = document.createElement('div')
    let blogImage = document.createElement('img')
    let blogDate = document.createElement('div')
    let blogButton = document.createElement('button')
    let blogTitle = document.createElement('h3')
    let blogDescription = document.createElement('h5')
    blogCard.className = "blogCard"
    blogContent.className = "content"
    blogDate.className = "date"
    blogButton.className = "blogButton"
    blogButton.textContent = 'View Story'
    blogButton.setAttribute('data-id',index)
    blogButton.setAttribute('id','viewStoryButton')
    blogImage.src = photo
    blogImage.alt = title
    blogTitle.textContent = title
    blogDescription.textContent = description
    blogContent.append(blogTitle)
    blogContent.append(blogDescription)
    blogDate.textContent = date
    blogCard.append(blogImage)
    blogCard.append(blogContent)
    blogCard.append(blogDate)
    blogCard.append(blogButton)
    return blogCard
}

blogData && blogData.map((data)=>{
    let blogContainer = document.getElementById('blogContainer')
    blogContainer.append(createNewBlogCard(data.title,data.description,data.photo,data.date,data.id))
})

$("#myModal").hide();
$('#noResultNotification').hide()

const setDataOnModal = (storyIndex) => {
    $('#modalTitle').text(blogData[storyIndex].title)
    $('#modalImage').attr('src',blogData[storyIndex].photo)
    $('#modalPara').text(blogData[storyIndex].article)
    $('#myModal').show()
}

$('[id=viewStoryButton]').click(function() {
    let storyIndex = $(this).attr('data-id');      
    setDataOnModal(storyIndex)
} );

$('#close').click(()=>{
    $('#myModal').hide()
})

$('#searchBlog').on('input',()=>{
    $('#blogContainer').html('')
    let searchValue = ($('#searchBlog').val()).toLowerCase();
    let filteredList = blogData.filter(article => ((article.title).toLowerCase()).includes(searchValue));
    if(filteredList.length!==0){filteredList && filteredList.map((data)=>{
        $('#noResultNotification').hide()
        let blogContainer = document.getElementById('blogContainer')
        blogContainer.append(createNewBlogCard(data.title,data.description,data.photo,data.date,data.id))
        $('[id=viewStoryButton]').click(function() {
            let storyIndex = $(this).attr('data-id');      
            setDataOnModal(storyIndex)
        } );
    })} else {
        $('#noResultNotification').show()
    }
   });